{"version":3,"file":"window-table.esm.js","sources":["../src/AutoSizer/detectElementResize.ts","../src/AutoSizer/index.tsx","../src/Measurer.tsx","../src/helpers/areTablePropsEqual.ts","../src/WindowTable.tsx","../src/Html5Table.tsx","../src/filters.tsx"],"sourcesContent":["/**\n * Detect Element Resize.\n * https://github.com/sdecima/javascript-detect-element-resize\n * Sebastian Decima\n *\n * Forked from version 0.5.3; includes the following modifications:\n * 1) Guard against unsafe 'window' and 'document' references (to support SSR).\n * 2) Defer initialization code via a top-level function wrapper (to support SSR).\n * 3) Avoid unnecessary reflows by not measuring size for scroll events bubbling from children.\n * 4) Add nonce for style element.\n **/\n\n/* eslint-disable */\n\nexport default function createDetectElementResize(nonce: any) {\n  // Check `document` and `window` in case of server-side rendering\n  let _window: any;\n  if (typeof window !== 'undefined') {\n    _window = window;\n  } else if (typeof self !== 'undefined') {\n    _window = self;\n  } else {\n    _window = global;\n  }\n\n  const attachEvent = typeof document !== 'undefined' && (document as any).attachEvent;\n\n  if (!attachEvent) {\n    const requestFrame = (function() {\n      const raf =\n        _window.requestAnimationFrame ||\n        _window.mozRequestAnimationFrame ||\n        _window.webkitRequestAnimationFrame ||\n        function(fn: any) {\n          return _window.setTimeout(fn, 20);\n        };\n      return function(fn: any) {\n        return raf(fn);\n      };\n    })();\n\n    const cancelFrame = (function() {\n      const cancel =\n        _window.cancelAnimationFrame ||\n        _window.mozCancelAnimationFrame ||\n        _window.webkitCancelAnimationFrame ||\n        _window.clearTimeout;\n      return function(id: any) {\n        return cancel(id);\n      };\n    })();\n\n    var resetTriggers = function(element: any) {\n      const triggers = element.__resizeTriggers__,\n        expand = triggers.firstElementChild,\n        contract = triggers.lastElementChild,\n        expandChild = expand.firstElementChild;\n      contract.scrollLeft = contract.scrollWidth;\n      contract.scrollTop = contract.scrollHeight;\n      expandChild.style.width = `${expand.offsetWidth + 1}px`;\n      expandChild.style.height = `${expand.offsetHeight + 1}px`;\n      expand.scrollLeft = expand.scrollWidth;\n      expand.scrollTop = expand.scrollHeight;\n    };\n\n    const checkTriggers = function(element: any) {\n      return (\n        element.offsetWidth != element.__resizeLast__.width ||\n        element.offsetHeight != element.__resizeLast__.height\n      );\n    };\n\n    var scrollListener = function(e: any) {\n      // Don't measure (which forces) reflow for scrolls that happen inside of children!\n      if (\n        e.target.className.indexOf('contract-trigger') < 0 &&\n        e.target.className.indexOf('expand-trigger') < 0\n      ) {\n        return;\n      }\n\n      // @ts-ignore\n      const _this: any = this;\n      const element = _this;\n      resetTriggers(_this);\n      if (_this.__resizeRAF__) {\n        cancelFrame(_this.__resizeRAF__);\n      }\n      _this.__resizeRAF__ = requestFrame(function() {\n        if (checkTriggers(element)) {\n          element.__resizeLast__.width = element.offsetWidth;\n          element.__resizeLast__.height = element.offsetHeight;\n          element.__resizeListeners__.forEach(function(fn: any) {\n            fn.call(element, e);\n          });\n        }\n      });\n    };\n\n    /* Detect CSS Animations support to detect element display/re-attach */\n    var animation = false,\n      keyframeprefix = '',\n      animationstartevent = 'animationstart',\n      domPrefixes = 'Webkit Moz O ms'.split(' '),\n      startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(\n        ' '\n      ),\n      pfx = '';\n    {\n      const elm = document.createElement('fakeelement');\n      if (elm.style.animationName !== undefined) {\n        animation = true;\n      }\n\n      if (animation === false) {\n        for (let i = 0; i < domPrefixes.length; i++) {\n          if (elm.style[`${domPrefixes[i]}AnimationName`] !== undefined) {\n            pfx = domPrefixes[i];\n            keyframeprefix = `-${pfx.toLowerCase()}-`;\n            animationstartevent = startEvents[i];\n            animation = true;\n            break;\n          }\n        }\n      }\n    }\n\n    var animationName = 'resizeanim';\n    var animationKeyframes = `@${keyframeprefix}keyframes ${animationName} { from { opacity: 0; } to { opacity: 0; } } `;\n    var animationStyle = `${keyframeprefix}animation: 1ms ${animationName}; `;\n  }\n\n  const createStyles = function(doc: any) {\n    if (!doc.getElementById('detectElementResize')) {\n      //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n      const css =\n          `${animationKeyframes ? animationKeyframes : ''}.resize-triggers { ${\n            animationStyle ? animationStyle : ''\n          }visibility: hidden; opacity: 0; } ` +\n          `.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }`,\n        head = doc.head || doc.getElementsByTagName('head')[0],\n        style = doc.createElement('style');\n\n      style.id = 'detectElementResize';\n      style.type = 'text/css';\n\n      if (nonce != null) {\n        style.setAttribute('nonce', nonce);\n      }\n\n      if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n      } else {\n        style.appendChild(doc.createTextNode(css));\n      }\n\n      head.appendChild(style);\n    }\n  };\n\n  const addResizeListener = function(element: any, fn: any) {\n    if (attachEvent) {\n      element.attachEvent('onresize', fn);\n    } else {\n      if (!element.__resizeTriggers__) {\n        const doc = element.ownerDocument;\n        const elementStyle = _window.getComputedStyle(element);\n        if (elementStyle && elementStyle.position == 'static') {\n          element.style.position = 'relative';\n        }\n        createStyles(doc);\n        element.__resizeLast__ = {};\n        element.__resizeListeners__ = [];\n        (element.__resizeTriggers__ = doc.createElement('div')).className =\n          'resize-triggers';\n        element.__resizeTriggers__.innerHTML =\n          '<div class=\"expand-trigger\"><div></div></div>' +\n          '<div class=\"contract-trigger\"></div>';\n        element.appendChild(element.__resizeTriggers__);\n        resetTriggers(element);\n        element.addEventListener('scroll', scrollListener, true);\n\n        /* Listen for a css animation to detect element display/re-attach */\n        if (animationstartevent) {\n          element.__resizeTriggers__.__animationListener__ = function animationListener(\n            e: any\n          ) {\n            if (e.animationName == animationName) {\n              resetTriggers(element);\n            }\n          };\n          element.__resizeTriggers__.addEventListener(\n            animationstartevent,\n            element.__resizeTriggers__.__animationListener__\n          );\n        }\n      }\n      element.__resizeListeners__.push(fn);\n    }\n  };\n\n  const removeResizeListener = function(element: any, fn: any) {\n    if (attachEvent) {\n      element.detachEvent('onresize', fn);\n    } else {\n      element.__resizeListeners__.splice(\n        element.__resizeListeners__.indexOf(fn),\n        1\n      );\n      if (!element.__resizeListeners__.length) {\n        element.removeEventListener('scroll', scrollListener, true);\n        if (element.__resizeTriggers__.__animationListener__) {\n          element.__resizeTriggers__.removeEventListener(\n            animationstartevent,\n            element.__resizeTriggers__.__animationListener__\n          );\n          element.__resizeTriggers__.__animationListener__ = null;\n        }\n        try {\n          element.__resizeTriggers__ = !element.removeChild(\n            element.__resizeTriggers__\n          );\n        } catch (e) {\n          // Preact compat; see developit/preact-compat/issues/228\n        }\n      }\n    }\n  };\n\n  return {\n    addResizeListener,\n    removeResizeListener,\n  };\n}\n","import * as React from 'react';\n// @ts-ignore\nimport createDetectElementResize from './detectElementResize';\n\ntype Size = {\n  height: number;\n  width: number;\n};\n\ntype Props = {\n  /** Function responsible for rendering children.*/\n  children: (Size: Size) => any;\n\n  /** Optional custom CSS class name to attach to root AutoSizer element.  */\n  className?: string;\n\n  /** Default height to use for initial render; useful for SSR */\n  defaultHeight?: number;\n\n  /** Default width to use for initial render; useful for SSR */\n  defaultWidth?: number;\n\n  /** Disable dynamic :height property */\n  disableHeight: boolean;\n\n  /** Disable dynamic :width property */\n  disableWidth: boolean;\n\n  /** Nonce of the inlined stylesheet for Content Security Policy */\n  nonce?: string;\n\n  /** Callback to be invoked on-resize */\n  onResize: (Size: Size) => void;\n\n  innerElementType: any;\n\n  /** Optional inline style */\n  style?: Object;\n};\n\ntype State = {\n  height: number;\n  width: number;\n};\n\ntype ResizeHandler = (element?: HTMLElement, onResize?: () => void) => void;\n\ntype DetectElementResize = {\n  addResizeListener: ResizeHandler;\n  removeResizeListener: ResizeHandler;\n};\n\nexport default class AutoSizer extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    onResize: () => {},\n    disableHeight: false,\n    disableWidth: false,\n    style: {},\n  };\n\n  state = {\n    height: this.props.defaultHeight || 0,\n    width: this.props.defaultWidth || 0,\n  };\n\n  _parentNode?: HTMLElement;\n  _autoSizer?: HTMLElement | any;\n  _detectElementResize: DetectElementResize;\n\n  componentDidMount() {\n    const { nonce } = this.props;\n    if (\n      this._autoSizer &&\n      this._autoSizer.parentNode &&\n      this._autoSizer.parentNode.ownerDocument &&\n      this._autoSizer.parentNode.ownerDocument.defaultView &&\n      this._autoSizer.parentNode instanceof\n        this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement\n    ) {\n      // Delay access of parentNode until mount.\n      // This handles edge-cases where the component has already been unmounted before its ref has been set,\n      // As well as libraries like react-lite which have a slightly different lifecycle.\n      this._parentNode = this._autoSizer.parentNode;\n\n      // Defer requiring resize handler in order to support server-side rendering.\n      // See issue #41\n      this._detectElementResize = createDetectElementResize(nonce);\n      this._detectElementResize.addResizeListener(\n        this._parentNode,\n        this._onResize\n      );\n\n      this._onResize();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._detectElementResize && this._parentNode) {\n      this._detectElementResize.removeResizeListener(\n        this._parentNode,\n        this._onResize\n      );\n    }\n  }\n\n  render() {\n    const {\n      children,\n      className,\n      disableHeight,\n      disableWidth,\n      style,\n    } = this.props;\n    const { height, width } = this.state;\n\n    // Outer div should not force width/height since that may prevent containers from shrinking.\n    // Inner component should overflow and use calculated width/height.\n    // See issue #68 for more information.\n    const outerStyle: any = { overflow: 'visible' };\n    const childParams: any = {};\n\n    // Avoid rendering children before the initial measurements have been collected.\n    // At best this would just be wasting cycles.\n    let bailoutOnChildren = false;\n\n    if (!disableHeight) {\n      if (height === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.height = 0;\n      childParams.height = height;\n    }\n\n    if (!disableWidth) {\n      if (width === 0) {\n        bailoutOnChildren = true;\n      }\n      outerStyle.width = 0;\n      childParams.width = width;\n    }\n\n    const Component = this.props.innerElementType || 'div';\n\n    return (\n      <Component\n        className={className}\n        ref={this._setRef as any}\n        style={{\n          ...outerStyle,\n          ...style,\n        }}\n      >\n        {!bailoutOnChildren && children(childParams)}\n      </Component>\n    );\n  }\n\n  _onResize = () => {\n    const { disableHeight, disableWidth, onResize } = this.props;\n\n    if (this._parentNode) {\n      // Guard against AutoSizer component being removed from the DOM immediately after being added.\n      // This can result in invalid style values which can result in NaN values if we don't handle them.\n      // See issue #150 for more context.\n\n      const height = this._parentNode.offsetHeight || 0;\n      const width = this._parentNode.offsetWidth || 0;\n\n      const style = (window.getComputedStyle(this._parentNode) || {}) as any;\n      const paddingLeft = parseInt(style.paddingLeft, 10) || 0;\n      const paddingRight = parseInt(style.paddingRight, 10) || 0;\n      const paddingTop = parseInt(style.paddingTop, 10) || 0;\n      const paddingBottom = parseInt(style.paddingBottom, 10) || 0;\n\n      const newHeight = height - paddingTop - paddingBottom;\n      const newWidth = width - paddingLeft - paddingRight;\n\n      if (\n        (!disableHeight && this.state.height !== newHeight) ||\n        (!disableWidth && this.state.width !== newWidth)\n      ) {\n        this.setState({\n          height: height - paddingTop - paddingBottom,\n          width: width - paddingLeft - paddingRight,\n        });\n\n        onResize({ height, width });\n      }\n    }\n  };\n\n  _setRef = (autoSizer?: HTMLElement) => {\n    this._autoSizer = autoSizer;\n  };\n}\n","import * as React from 'react';\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport AutoSizer from './AutoSizer';\nimport { MeasureAction, ReducerState, TableEntity } from './core/types';\n\nconst { useMemo, useReducer } = React;\n\n// Define the initial state of dimensions\n// Also to be used as a state which will not trigger a re-render on changes\n// So that we can change state from the useReducer, only when required\nlet cache: ReducerState = {\n  header: [0, 0],\n  row: [0, 0],\n  table: [0, 0],\n};\n\nexport const reducer: React.Reducer<ReducerState, MeasureAction> = (\n  state,\n  { entity, dimensions }\n) => {\n  if (entity) {\n    // Keep updates in cache\n    cache = {\n      ...cache,\n      [entity]: dimensions,\n    };\n    if (!isEqual(state[entity], cache[entity])) {\n      return cache;\n    }\n  }\n  return state;\n};\n\nexport const Measurer: React.FunctionComponent<{\n  measure: React.Dispatch<MeasureAction>;\n  entity: TableEntity;\n  debounceWait: number;\n  innerElementType?: any;\n}> = ({ measure, entity, debounceWait, innerElementType = 'div' }) => {\n  const debounced = useMemo(\n    () => debounce(measure, debounceWait, { leading: true }),\n    [measure, debounceWait]\n  );\n  const dispatch = debounceWait > 0 ? debounced : measure;\n  return (\n    <AutoSizer\n      innerElementType={innerElementType}\n      onResize={({ height, width }) => {\n        dispatch({ dimensions: [height, width], entity });\n      }}\n    >\n      {() => null}\n    </AutoSizer>\n  );\n};\n\nexport const useTableMeasurer = () => {\n  return useReducer(reducer, cache);\n};\n","const objectProps = ['style', 'sampleRow'];\nconst otherProps = [\n  'columns',\n  'data',\n  'rowHeight',\n  'height',\n  'width',\n  'className',\n  'rowClassName',\n  'classNamePrefix',\n];\n\nexport function areTablePropsEqual(prev: any, next: any) {\n  const areObjectPropsEqual = objectProps.every(propName => {\n    return JSON.stringify(prev[propName]) === JSON.stringify(next[propName]);\n  });\n  if (!areObjectPropsEqual) {\n    return false;\n  }\n  return otherProps.every(propName => prev[propName] === next[propName]);\n}\n","import * as React from 'react';\nimport * as ReactWindow from 'react-window';\nimport { Measurer, useTableMeasurer } from './Measurer';\nimport {\n  Column,\n  WindowTableProps,\n  RowCellsProps,\n  HeaderRowProps,\n} from './core/types';\nimport { areTablePropsEqual } from './helpers/areTablePropsEqual';\nimport { ReactElement, useRef } from 'react';\n\nconst { FixedSizeList, VariableSizeList, areEqual } = ReactWindow;\nconst { useContext, createContext, memo, useMemo } = React;\n\nconst TableContext = createContext({\n  columns: [] as Column<any, any>[],\n  data: [] as any[],\n  Cell: 'div' as React.ElementType,\n  Row: 'div' as React.ElementType,\n  Table: 'div' as React.ElementType,\n  Body: 'div' as React.ElementType,\n  classNamePrefix: '',\n  tableClassName: '',\n  rowClassName: '' as string | Function,\n  rowWidthOffset: 0,\n});\n\nconst RowCells = ({\n  columns,\n  classNamePrefix,\n  datum,\n  Cell,\n  index = 0,\n}: RowCellsProps) => {\n  return (\n    <>\n      {columns.map((column, i) => {\n        const { key, width, Component = 'div' } = column;\n        // Using i as the key, because it doesn't matter much,\n        // as we are only looping through columns in one row only\n        return (\n          <Cell\n            key={i}\n            style={{\n              width: `${width}px`,\n              flexGrow: width,\n              display: 'inline-block',\n              overflow: 'auto',\n              boxSizing: 'border-box',\n            }}\n            className={`${classNamePrefix}table-cell`}\n            row={datum}\n            column={column}\n            index={index}\n          >\n            <Component row={datum} column={column} index={index}>\n              {datum[key]}\n            </Component>\n          </Cell>\n        );\n      })}\n    </>\n  );\n};\n\nconst RowRenderer: React.FunctionComponent<ReactWindow.ListChildComponentProps> = ({\n  index,\n  style,\n}) => {\n  const {\n    columns,\n    data,\n    Cell,\n    classNamePrefix,\n    Row,\n    rowClassName,\n  } = useContext(TableContext);\n\n  const rowClassNameStr = useMemo(\n    () =>\n      typeof rowClassName === 'function' ? rowClassName(index) : rowClassName,\n    [index, rowClassName]\n  );\n\n  return (\n    <Row\n      style={{\n        ...style,\n        display: 'flex',\n      }}\n      className={`${classNamePrefix}${rowClassNameStr}`}\n      index={index}\n      row={data[index]}\n    >\n      <RowCells\n        datum={data[index]}\n        Cell={Cell}\n        classNamePrefix={classNamePrefix}\n        columns={columns}\n        index={index}\n      />\n    </Row>\n  );\n};\nconst MemoRowRenderer = memo(RowRenderer, areEqual);\n\nconst HeaderRowRenderer: React.FunctionComponent<HeaderRowProps> = ({\n  Header,\n  HeaderRow,\n  HeaderCell: DefaultHeaderCell,\n  children,\n}) => {\n  const { columns, classNamePrefix, rowWidthOffset } = useContext(TableContext);\n  const rowRef = useRef<HTMLElement>(null);\n\n  const color =\n    rowRef &&\n    rowRef.current &&\n    rowRef.current.firstChild &&\n    getComputedStyle(rowRef.current.firstChild as Element).backgroundColor;\n\n  return (\n    <Header\n      className={`${classNamePrefix}table-header`}\n      style={{ backgroundColor: color }}\n    >\n      <HeaderRow\n        style={{\n          display: 'flex',\n          width: `calc(100% - ${rowWidthOffset}px)`,\n        }}\n        className={`${classNamePrefix}table-header-row`}\n        ref={rowRef}\n      >\n        {children}\n        {columns.map(column => {\n          const { key, width, title, HeaderCell = DefaultHeaderCell } = column;\n          return (\n            <HeaderCell\n              key={`header${key}`}\n              style={{\n                width: `${width}px`,\n                display: 'inline-block',\n                flexGrow: width,\n              }}\n              className={`${classNamePrefix}table-header-cell`}\n              column={column}\n            >\n              {title}\n            </HeaderCell>\n          );\n        })}\n      </HeaderRow>\n    </Header>\n  );\n};\n\nconst TableBodyRenderer: React.FunctionComponent = ({ children, ...props }) => {\n  const { Table, classNamePrefix, tableClassName, Body } = useContext(\n    TableContext\n  );\n\n  return (\n    <Table {...props} className={tableClassName}>\n      <Body className={`${classNamePrefix}table-body`}>{children}</Body>\n    </Table>\n  );\n};\n\nconst WindowTable = React.forwardRef(\n  <T extends any = any>(\n    {\n      columns,\n      data,\n      rowHeight,\n      height,\n      width,\n      overscanCount = 1,\n      disableHeader = false,\n      style = {},\n      Cell = 'div',\n      HeaderCell = 'div',\n      Table = 'div',\n      Header = 'div',\n      HeaderRow = 'div',\n      Row = 'div',\n      Body = 'div',\n      sampleRowIndex = 0,\n      sampleRow,\n      className = '',\n      rowClassName = 'table-row',\n      classNamePrefix = '',\n      debounceWait = 0,\n      headerCellInnerElementType = 'div',\n      tableCellInnerElementType = 'div',\n      tableOuterRef,\n      tableOuterElementType,\n      ...rest\n    }: WindowTableProps<T>,\n    ref: React.Ref<ReactWindow.FixedSizeList | ReactWindow.VariableSizeList>\n  ) => {\n    const measurerRowRef = useRef<HTMLElement>(null);\n    const tableClassName = `${classNamePrefix}table ${className}`;\n\n    const List: React.ElementType =\n      rowHeight && typeof rowHeight === 'function'\n        ? VariableSizeList\n        : FixedSizeList;\n    const columnWidthsSum = columns.reduce((sum, { width }) => sum + width, 0);\n\n    const [dimensions, measure] = useTableMeasurer();\n\n    const [tableHeight, tableWidth] = dimensions.table;\n    const [headerHeight] = disableHeader ? [0] : dimensions.header;\n    const [sampleRowHeight] = dimensions.row;\n\n    const bodyHeight: number = (height || tableHeight) - headerHeight - 2; // 2px less to avoid possible unnecessary scrollbars\n    const effectiveWidth = width || Math.max(columnWidthsSum, tableWidth);\n\n    const rowWidth =\n      (measurerRowRef.current && measurerRowRef.current.clientWidth) ||\n      tableWidth;\n    const rowWidthOffset = tableWidth - rowWidth;\n\n    const tblCtx = {\n      columns,\n      data,\n      Cell,\n      Row,\n      Table,\n      Body,\n      classNamePrefix,\n      tableClassName,\n      rowClassName,\n      rowWidthOffset,\n    };\n\n    return (\n      <div\n        style={{\n          height: height ? `${height}px` : '100%',\n          width: width ? `${width}px` : '100%',\n          overflow: 'auto',\n          maxHeight: '100vh', // By default, table height will be bounded by 100% of viewport height\n          ...style,\n        }}\n        {...rest}\n      >\n        {!rowHeight && !!data.length && (\n          /*Measure row height only if not supplied explicitly*/\n          <Table\n            style={{\n              height: 0,\n              opacity: 0,\n              display: 'grid',\n              overflow: 'hidden',\n              margin: 0,\n              border: 0,\n              outline: 0,\n              width: `${effectiveWidth}px`,\n            }}\n            className={tableClassName}\n          >\n            <TableContext.Provider value={tblCtx}>\n              <HeaderRowRenderer\n                Header={Header}\n                HeaderRow={HeaderRow}\n                HeaderCell={HeaderCell}\n              >\n                <Measurer\n                  measure={measure}\n                  entity=\"header\"\n                  debounceWait={debounceWait}\n                  innerElementType={headerCellInnerElementType}\n                />\n              </HeaderRowRenderer>\n            </TableContext.Provider>\n            <Body\n              className={`${classNamePrefix}table-body`}\n              style={{ overflowY: 'scroll' }}\n            >\n              <Row\n                className={`${classNamePrefix}table-row`}\n                ref={measurerRowRef}\n                style={{ width: '100%', display: 'flex' }}\n              >\n                <Measurer\n                  measure={measure}\n                  entity=\"row\"\n                  debounceWait={debounceWait}\n                  innerElementType={tableCellInnerElementType}\n                />\n                <RowCells\n                  datum={sampleRow || data[sampleRowIndex]}\n                  columns={columns}\n                  classNamePrefix={classNamePrefix}\n                  Cell={Cell}\n                />\n              </Row>\n            </Body>\n          </Table>\n        )}\n\n        <TableContext.Provider value={tblCtx}>\n          <div>\n            {!disableHeader && tableWidth > 0 && (\n              <Table\n                style={{ width: `${effectiveWidth}px`, marginBottom: 0 }}\n                className={tableClassName}\n              >\n                <HeaderRowRenderer\n                  Header={Header}\n                  HeaderRow={HeaderRow}\n                  HeaderCell={HeaderCell}\n                />\n              </Table>\n            )}\n            {!!data.length && (\n              <List\n                ref={ref}\n                height={bodyHeight}\n                itemCount={data.length}\n                itemSize={rowHeight || sampleRowHeight}\n                width={effectiveWidth}\n                innerElementType={TableBodyRenderer}\n                overscanCount={overscanCount}\n                outerRef={tableOuterRef}\n                outerElementType={tableOuterElementType}\n              >\n                {MemoRowRenderer}\n              </List>\n            )}\n          </div>\n        </TableContext.Provider>\n\n        {(!height || !width) && (\n          /*Measure table dimensions only if explicit height or width are not supplied*/\n          <Measurer\n            measure={measure}\n            entity=\"table\"\n            debounceWait={debounceWait}\n          />\n        )}\n      </div>\n    );\n  }\n);\n\ndeclare function WindowTableType<T>(props: WindowTableProps<T>): ReactElement<T>;\n\nexport default memo(WindowTable, areTablePropsEqual) as unknown as typeof WindowTableType;\n","import * as React from 'react';\nimport WindowTable from './WindowTable';\nimport { Html5TableProps } from './core/types';\n\nconst getTHead = (headerClassName: string = '') => {\n  const THead: React.FunctionComponent<React.HTMLAttributes<\n    HTMLTableSectionElement\n  >> = props => {\n    return (\n      <thead {...props} className={`${headerClassName} ${props.className}`} />\n    );\n  };\n  return THead;\n};\n\nfunction Html5Table<T = any>({\n  headerClassName,\n  ...props\n}: Html5TableProps<T>) {\n  return (\n    <WindowTable<T>\n      Cell=\"td\"\n      HeaderCell=\"th\"\n      Header={getTHead(headerClassName)}\n      HeaderRow=\"tr\"\n      Row=\"tr\"\n      Body=\"tbody\"\n      Table=\"table\"\n      headerCellInnerElementType=\"th\"\n      tableCellInnerElementType=\"td\"\n      {...props}\n    />\n  );\n}\n\nexport default Html5Table;\n","import * as React from 'react';\nimport debounce from 'lodash/debounce';\n\nconst { useState, useMemo } = React;\n\n/**\n * A hook giving a combination of immediate and debounced state\n * @param initialState\n * @param wait\n */\nexport function useDebouncedState(\n  initialState: any,\n  wait: number = 100\n): [any, any, (state: any) => void] {\n  const [immediateState, setImmediateState] = useState(initialState);\n  const [debouncedState, setState] = useState(initialState);\n\n  const setDebouncedState = useMemo(() => debounce(setState, wait), [wait]);\n\n  const setCombinedState = (state: any) => {\n    setDebouncedState.cancel();\n    setImmediateState(state);\n    setDebouncedState(state);\n  };\n\n  return [immediateState, debouncedState, setCombinedState];\n}\n\ntype UseFilter = (\n  filterFn: (data: Array<Object>, filterText: string) => Array<Object>,\n  data: Array<Object>,\n  filterText: string\n) => Array<Object>;\n\n/**\n * A hook for fast data filtering\n * @param filterFn\n * @param data\n * @param filterText\n */\nexport const useFilter: UseFilter = function(filterFn, data, filterText) {\n  return useMemo(() => {\n    if (!filterText.length) {\n      return data;\n    }\n    return filterFn(data, filterText);\n  }, [data, filterFn, filterText]);\n};\n\n/**\n * A simple utility for creating functions for trivial data filtering\n * @param fields\n */\nexport function createFilter(fields: string[]) {\n  return (originalData: any, filterText: string) =>\n    originalData.filter((data: any) =>\n      fields.some((field: string) => {\n        const fieldData = data[field] ? String(data[field]) : '';\n        return !!(\n          filterText &&\n          fieldData.toLowerCase().includes(filterText.trim().toLowerCase())\n        );\n      })\n    );\n}\n"],"names":["createDetectElementResize","nonce","_window","window","self","global","attachEvent","document","requestFrame","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","fn","setTimeout","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resetTriggers","element","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","style","width","offsetWidth","height","offsetHeight","checkTriggers","__resizeLast__","scrollListener","e","target","className","indexOf","_this","__resizeRAF__","__resizeListeners__","forEach","call","animation","keyframeprefix","animationstartevent","domPrefixes","split","startEvents","pfx","elm","createElement","animationName","undefined","i","length","toLowerCase","animationKeyframes","animationStyle","createStyles","doc","getElementById","css","head","getElementsByTagName","type","setAttribute","styleSheet","cssText","appendChild","createTextNode","addResizeListener","ownerDocument","elementStyle","getComputedStyle","position","innerHTML","addEventListener","__animationListener__","animationListener","push","removeResizeListener","detachEvent","splice","removeEventListener","removeChild","AutoSizer","props","defaultHeight","defaultWidth","disableHeight","disableWidth","onResize","_parentNode","paddingLeft","parseInt","paddingRight","paddingTop","paddingBottom","newHeight","newWidth","state","setState","autoSizer","_autoSizer","componentDidMount","parentNode","defaultView","HTMLElement","_detectElementResize","_onResize","componentWillUnmount","render","children","outerStyle","overflow","childParams","bailoutOnChildren","Component","innerElementType","React","ref","_setRef","useMemo","useReducer","cache","header","row","table","reducer","entity","dimensions","isEqual","Measurer","measure","debounceWait","debounced","debounce","leading","dispatch","useTableMeasurer","objectProps","otherProps","areTablePropsEqual","prev","next","areObjectPropsEqual","every","propName","JSON","stringify","FixedSizeList","ReactWindow","VariableSizeList","areEqual","useContext","createContext","memo","TableContext","columns","data","Cell","Row","Table","Body","classNamePrefix","tableClassName","rowClassName","rowWidthOffset","RowCells","datum","index","map","column","key","flexGrow","display","boxSizing","RowRenderer","rowClassNameStr","MemoRowRenderer","HeaderRowRenderer","Header","HeaderRow","DefaultHeaderCell","HeaderCell","rowRef","useRef","color","current","firstChild","backgroundColor","title","TableBodyRenderer","WindowTable","rowHeight","overscanCount","disableHeader","sampleRowIndex","sampleRow","headerCellInnerElementType","tableCellInnerElementType","tableOuterRef","tableOuterElementType","rest","measurerRowRef","List","columnWidthsSum","reduce","sum","tableHeight","tableWidth","headerHeight","sampleRowHeight","bodyHeight","effectiveWidth","Math","max","rowWidth","clientWidth","tblCtx","maxHeight","opacity","margin","border","outline","Provider","value","overflowY","marginBottom","itemCount","itemSize","outerRef","outerElementType","getTHead","headerClassName","THead","Html5Table","useState","useDebouncedState","initialState","wait","immediateState","setImmediateState","debouncedState","setDebouncedState","setCombinedState","useFilter","filterFn","filterText","createFilter","fields","originalData","filter","some","field","fieldData","String","includes","trim"],"mappings":"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"}